{% load static %}

<link rel="stylesheet" href="{% static 'pos_app/css/request_detailStyle.css' %}">
<link rel="stylesheet" href="{% static 'pos_app/css/modal.css' %}">

<div class="detail-container">
    <h2>Request Details</h2>

    <div class="detail-item">
      <strong>Title:</strong> <span>{{ req.title }}</span>
    </div>

    <div class="detail-item">
      <strong>Status:</strong>
      <span class="status {{ req.status }}">{{ req.get_status_display }}</span>
    </div>

    <div class="detail-item">
      <strong>Priority:</strong>
      <span>{{ req.get_priority_display }}</span>
    </div>

    <div class="detail-item">
      <strong>Category:</strong>
      <span>{{ req.category.name }}</span>
    </div>

    <div class="detail-item">
      <strong>Tags:</strong>
      {% if req.tags.all %}
        {% for tag in req.tags.all %}
          {{ tag.name }}{% if not forloop.last %}, {% endif %}
        {% endfor %}
      {% else %}
        <span>No tags provided.</span>
      {% endif %}
    </div>

    <div class="detail-item">
      <strong>Date:</strong> <span>{{ req.date|date:"Y-m-d" }}</span>
    </div>

    <div class="detail-item">
      <strong>Description:</strong>
      <div class="description-box">{{ req.description }}</div>
    </div>

    <div class="detail-item">
      <strong>Attachment:</strong>
      {% if req.attachment %}
        <a href="{{ req.attachment.url }}" target="_blank">View Attachment</a>
      {% else %}
        <span>No attachment provided.</span>
      {% endif %}
    </div>

    <div class="detail-actions">
      {% if request.user == req.user or request.user.is_staff %}
      
      <a href="{% url 'edit_request' req.id %}" class="btn-primary">Edit</a>
      <a href="{% url 'delete_request' req.id %}" class="btn-danger">Delete</a>
      {% endif %}
    </div>
</div>

