{% extends 'base.html' %}
{% load static %}

{% block title %}Create Category & Query Type{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'pos_app/css/create_category.css' %}">
{% endblock %}

{% block content %}
<div class="card">
    
    <div class="card-grid">
        <div>
            <h2>Create Category</h2>
            <form method="POST">
                {% csrf_token %}
                <label for="category_name">Category Name</label>
                <input type="text" id="category_name" name="category_name" placeholder="e.g., Finance, Security" required>
                <button type="submit">Create Category</button>
            </form>

            <h2>Create Query Type</h2>
            <form method="POST">
                {% csrf_token %}
                <label for="query_name">Query Type Name</label>
                <input type="text" id="query_name" name="query_name" placeholder="e.g., Tuition, Late Fee" required>

                <label for="category_for_query">Category</label>
                <select id="category_for_query" name="category_for_query" required>
                    <option value="">Select Category</option>
                    {% for cat in categories %}
                        <option value="{{ cat.id }}">{{ cat.name }}</option>
                    {% endfor %}
                </select>

                <button type="submit">Create Query Type</button>
            </form>
        </div>

        <div>
            <h3>Existing Categories</h3>
            <ul>
                {% for cat in categories %}
                    <li>
                        <span>{{ cat.name }}</span>
                        </li>
                {% endfor %}
            </ul>

            <h3>Existing Query Types</h3>
            <ul>
                {% for choice in choices %}
                    <li>
                        <span>{{ choice.category.name }}</span>
                        <span>{{ choice.value }}</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="back-link">
        <a href="{% url 'dashboard' %}">‚Üê Back to Dashboard</a>
    </div>
</div>
{% endblock content %}